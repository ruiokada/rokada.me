function fadeTo(el,opacity){el.style.display="";setTimeout(function(){el.style.opacity=opacity},0);if(el.timeOut)clearTimeout(el.timeOut);if(opacity===0){var dur=getComputedStyle(el).transitionDuration;dur=1e3*Number(dur.substring(0,dur.length-1));el.timeOut=setTimeout(function(){el.style.display="none"},dur+0)}}function fadeToVis(el,opacity){el.style.opacity=opacity;if(opacity===0){el.style.visibility="hidden"}else{el.style.visibility="visible"}}function addEventListeners(el,s,fn){var events=s.split(" ");for(var event in events)el.addEventListener(event,fn,false)}function throttle(fn,threshhold,scope){threshhold||(threshhold=250);var last,deferTimer;return function(){var context=scope||this;var now=+new Date,args=arguments;if(last&&now<last+threshhold){clearTimeout(deferTimer);deferTimer=setTimeout(function(){last=now;fn.apply(context,args)},threshhold+last-now)}else{last=now;fn.apply(context,args)}}}d=document;Array.prototype.forEach.call(d.querySelectorAll(".email"),function(element,i){var email=atob("aXVyb2thZGFAZ21haWwuY29tCg==");element.href="mailto:"+email;element.innerHTML=email});captions=d.querySelectorAll(".caption");if(captions.length>0){gallery_items=d.querySelectorAll(".gallery ul li");captions.forEach(function(element,i){element.addEventListener("click",function(event){if(getComputedStyle(this).opacity!="1"){event.preventDefault();gallery_items.forEach(function(element,i){element.classList.remove("is-active")});this.parentNode.classList.add("is-active")}})})}var $scroll_to_top=d.querySelector(".scroll-to-top");var visible=false;function showHideScrollToTop(){if(window.scrollY>500){if(!visible){visible=true;fadeTo($scroll_to_top,1)}}else{if(visible){visible=false;fadeTo($scroll_to_top,0)}}}showHideScrollToTop();window.addEventListener("scroll",throttle(showHideScrollToTop,250));function expoEaseOut(x){return 1-Math.pow(2,-10*x)}function scrollToTop(duration){var y_initial=window.scrollY;var start=null;var scroll=function(timestamp){if(!start)start=timestamp;var t=timestamp-start;d.body.scrollTop=d.documentElement.scrollTop=(1-expoEaseOut(t/duration))*y_initial;if(t<duration){requestAnimationFrame(scroll)}};requestAnimationFrame(scroll)}var scrolling=false;$scroll_to_top.addEventListener("click",function(event){event.preventDefault();if(!scrolling){scrolling=true;scrollToTop(1e3);setTimeout(function(){scrolling=false},1e3)}});